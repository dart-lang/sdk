<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="observatory_element.html">

<polymer-element name="service-ref" extends="observatory-element">
</polymer-element>

<polymer-element name="any-service-ref" extends="observatory-element">
</polymer-element>

<polymer-element name="object-ref" extends="service-ref">
  <template><link rel="stylesheet" href="css/shared.css">

    <template if="{{ ref.isObjectPool }}">
      <a on-click="{{ goto }}" _href="{{ url }}">
        <em>{{ ref.vmType }}</em> ({{ ref.length }})
      </a>
    </template>
    <template if="{{ ref.isICData || ref.isMegamorphicCache }}">
      <a on-click="{{ goto }}" _href="{{ url }}">
        <em>{{ ref.vmType }}</em> ({{ ref.selector }})
      </a>
    </template>
    <template if="{{ ref.isInstructions }}">
      <a on-click="{{ goto }}" _href="{{ url }}">
        <em>{{ ref.vmType }}</em> ({{ ref.code.name }})
      </a>
    </template>
    <template if="{{ !(ref.isObjectPool || ref.isICData || ref.isMegamorphicCache || ref.isInstructions) }}">
      <template if="{{ nameIsEmpty }}">
        <a on-click="{{ goto }}" _href="{{ url }}"><em>{{ ref.vmType }}</em></a>
      </template>
      <template if="{{ !nameIsEmpty }}">
        <a on-click="{{ goto }}" _href="{{ url }}"><em>{{ name }}</em></a>
      </template>
    </template>
  </template>
</polymer-element>

<script type="application/dart" src="service_ref.dart"></script>
