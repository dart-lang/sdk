<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="nav_bar.html">
<link rel="import" href="observatory_element.html">
<link rel="import" href="script_inset.html">

<polymer-element name="script-view" extends="observatory-element">
<template>
  <link rel="stylesheet" href="css/shared.css">
  <nav-bar>
    <top-nav-menu></top-nav-menu>
    <vm-nav-menu vm="{{ script.isolate.vm }}"></vm-nav-menu>
    <isolate-nav-menu isolate="{{ script.isolate }}"></isolate-nav-menu>
    <library-nav-menu library="{{ script.library }}"></library-nav-menu>
    <nav-menu link="{{ makeLink('/inspect', script) }}" anchor="{{ script.name }}" last="{{ true }}"></nav-menu>
    <nav-refresh callback="{{ refresh }}"></nav-refresh>
    <nav-notify notifications="{{ app.notifications }}"></nav-notify>
  </nav-bar>

  <div class="content-centered-big">
    <h1>script {{ script.name }}</h1>
    <object-common object="{{ script }}"></object-common>
    <br>

    <div class="memberList">
      <div class="memberItem">
        <div class="memberName">loaded at</div>
        <div class="memberValue">{{ script.loadTime.toString() }}</div>
      </div>
    </div>

    <hr>
    <script-inset id="scriptInset" script="{{ script }}"
                  currentPos="{{ app.locationManager.internalArguments['pos'] | parseInt }}">
    </script-inset>
  </div>

  <view-footer></view-footer>
</template>
</polymer-element>

<script type="application/dart" src="script_view.dart"></script>
