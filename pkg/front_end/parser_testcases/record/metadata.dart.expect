Problems reported:

parser/record/metadata:2:17: Variables must be declared using the keywords 'const', 'final', 'var' or a type name.
@metadata(x, y) a;
                ^

parser/record/metadata:4:20: Variables must be declared using the keywords 'const', 'final', 'var' or a type name.
@metadata<T>(x, y) a;
                   ^

parser/record/metadata:6:21: Variables must be declared using the keywords 'const', 'final', 'var' or a type name.
@metadata <T>(x, y) a;
                    ^

parser/record/metadata:22:11: Annotations can't have spaces or comments before the parenthesis.
@metadata (x, y)
          ^

parser/record/metadata:30:14: Annotations can't have spaces or comments before the parenthesis.
@metadata<T> (x, y) a;
             ^

parser/record/metadata:30:21: Variables must be declared using the keywords 'const', 'final', 'var' or a type name.
@metadata<T> (x, y) a;
                    ^

beginCompilationUnit(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      handleNoTypeArguments(()
      beginArguments(()
        handleIdentifier(x, expression)
        handleNoTypeArguments(,)
        handleNoArguments(,)
        handleSend(x, ,)
        handleIdentifier(y, expression)
        handleNoTypeArguments())
        handleNoArguments())
        handleSend(y, ))
      endArguments(2, (, ))
    endMetadata(@, null, a)
  endMetadataStar(1)
  beginTopLevelMember(a)
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, ))
      handleRecoverableError(MissingConstFinalVarOrType, a, a)
      handleNoType())
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, a, ;)
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      beginTypeArguments(<)
        handleIdentifier(T, typeReference)
        handleNoTypeArguments(>)
        handleType(T, null)
      endTypeArguments(1, <, >)
      beginArguments(()
        handleIdentifier(x, expression)
        handleNoTypeArguments(,)
        handleNoArguments(,)
        handleSend(x, ,)
        handleIdentifier(y, expression)
        handleNoTypeArguments())
        handleNoArguments())
        handleSend(y, ))
      endArguments(2, (, ))
    endMetadata(@, null, a)
  endMetadataStar(1)
  beginTopLevelMember(a)
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, ))
      handleRecoverableError(MissingConstFinalVarOrType, a, a)
      handleNoType())
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, a, ;)
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      beginTypeArguments(<)
        handleIdentifier(T, typeReference)
        handleNoTypeArguments(>)
        handleType(T, null)
      endTypeArguments(1, <, >)
      beginArguments(()
        handleIdentifier(x, expression)
        handleNoTypeArguments(,)
        handleNoArguments(,)
        handleSend(x, ,)
        handleIdentifier(y, expression)
        handleNoTypeArguments())
        handleNoArguments())
        handleSend(y, ))
      endArguments(2, (, ))
    endMetadata(@, null, a)
  endMetadataStar(1)
  beginTopLevelMember(a)
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, ))
      handleRecoverableError(MissingConstFinalVarOrType, a, a)
      handleNoType())
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, a, ;)
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      handleNoTypeArguments(()
      handleNoArguments(()
    endMetadata(@, null, ()
  endMetadataStar(1)
  beginTopLevelMember(()
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, metadata)
      beginRecordType(()
        beginRecordTypeEntry()
          beginMetadataStar(x)
          endMetadataStar(0)
          handleIdentifier(x, typeReference)
          handleNoTypeArguments(,)
          handleType(x, null)
          handleNoName(,)
        endRecordTypeEntry()
        beginRecordTypeEntry()
          beginMetadataStar(y)
          endMetadataStar(0)
          handleIdentifier(y, typeReference)
          handleNoTypeArguments())
          handleType(y, null)
          handleNoName())
        endRecordTypeEntry()
      endRecordType((, null, 2, false)
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, (, ;)
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      handleNoTypeArguments(()
      handleNoArguments(()
    endMetadata(@, null, ()
  endMetadataStar(1)
  beginTopLevelMember(()
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, metadata)
      beginRecordType(()
        beginRecordTypeEntry()
          beginMetadataStar(x)
          endMetadataStar(0)
          handleIdentifier(x, typeReference)
          handleNoTypeArguments(,)
          handleType(x, null)
          handleNoName(,)
        endRecordTypeEntry()
        beginRecordTypeEntry()
          beginMetadataStar(y)
          endMetadataStar(0)
          handleIdentifier(y, typeReference)
          handleNoTypeArguments())
          handleType(y, null)
          handleNoName())
        endRecordTypeEntry()
      endRecordType((, null, 2, false)
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, (, ;)
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      handleNoTypeArguments(()
      handleNoArguments(()
    endMetadata(@, null, ()
  endMetadataStar(1)
  beginTopLevelMember(()
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, metadata)
      beginRecordType(()
        beginRecordTypeEntry()
          beginMetadataStar(x)
          endMetadataStar(0)
          handleIdentifier(x, typeReference)
          handleNoTypeArguments(,)
          handleType(x, null)
          handleNoName(,)
        endRecordTypeEntry()
        beginRecordTypeEntry()
          beginMetadataStar(y)
          endMetadataStar(0)
          handleIdentifier(y, typeReference)
          handleNoTypeArguments())
          handleType(y, null)
          handleNoName())
        endRecordTypeEntry()
      endRecordType((, null, 2, false)
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, (, ;)
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      handleNoTypeArguments(()
      handleNoArguments(()
    endMetadata(@, null, ()
  endMetadataStar(1)
  beginTopLevelMember(()
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, metadata)
      beginRecordType(()
        beginRecordTypeEntry()
          beginMetadataStar(x)
          endMetadataStar(0)
          handleIdentifier(x, typeReference)
          handleNoTypeArguments(,)
          handleType(x, null)
          handleNoName(,)
        endRecordTypeEntry()
      endRecordType((, null, 1, false)
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, (, ;)
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      handleNoTypeArguments(()
      handleRecoverableError(MetadataSpaceBeforeParenthesis, (, ()
      beginArguments(()
        handleIdentifier(x, expression)
        handleNoTypeArguments(,)
        handleNoArguments(,)
        handleSend(x, ,)
        handleIdentifier(y, expression)
        handleNoTypeArguments())
        handleNoArguments())
        handleSend(y, ))
      endArguments(2, (, ))
    endMetadata(@, null, class)
  endMetadataStar(1)
  beginClassOrMixinOrNamedMixinApplicationPrelude(class)
    handleIdentifier(C, classOrMixinDeclaration)
    handleNoTypeVariables({)
    beginClassDeclaration(class, null, null, null, null, null, null, null, null, null, C)
      handleNoType(C)
      handleClassExtends(null, 1)
      handleClassNoWithClause()
      handleImplements(null, 0)
      handleClassHeader(class, class, null)
      beginClassOrMixinOrExtensionBody(DeclarationKind.Class, {)
      endClassOrMixinOrExtensionBody(DeclarationKind.Class, 0, {, })
    endClassDeclaration(class, })
  endTopLevelDeclaration(@)
  beginMetadataStar(@)
    beginMetadata(@)
      handleIdentifier(metadata, metadataReference)
      beginTypeArguments(<)
        handleIdentifier(T, typeReference)
        handleNoTypeArguments(>)
        handleType(T, null)
      endTypeArguments(1, <, >)
      handleRecoverableError(MetadataSpaceBeforeParenthesis, (, ()
      beginArguments(()
        handleIdentifier(x, expression)
        handleNoTypeArguments(,)
        handleNoArguments(,)
        handleSend(x, ,)
        handleIdentifier(y, expression)
        handleNoTypeArguments())
        handleNoArguments())
        handleSend(y, ))
      endArguments(2, (, ))
    endMetadata(@, null, a)
  endMetadataStar(1)
  beginTopLevelMember(a)
    beginFields(DeclarationKind.TopLevel, null, null, null, null, null, null, null, ))
      handleRecoverableError(MissingConstFinalVarOrType, a, a)
      handleNoType())
      handleIdentifier(a, topLevelVariableDeclaration)
      handleNoFieldInitializer(;)
    endTopLevelFields(null, null, null, null, null, 1, a, ;)
  endTopLevelDeclaration()
endCompilationUnit(9, )
